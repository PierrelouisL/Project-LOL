<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8" />
    <title>Site ISN</title>
		<script type = "text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
		<link rel="stylesheet" href="Css3.css">
  </head>
  
  <body>
<div id="global">
  
	<div id="entete">
		<h1> projet </h1>
	</div>
  
	<div id="centre">

	<div id="contenu">
	
		<script type = "text/javascript">
		
			function displayImageChamp(){
				var nomDeChampion= nameChampInput.value;
				var numDeSkinChampion= numskinInput.value;
				if (numDeSkinChampion=='')
				{
				numDeSkinChampion=0;
				}
				var nameChamp = 'http://ddragon.leagueoflegends.com/cdn/img/champion/splash/'+nomDeChampion+'_'+numDeSkinChampion+'.jpg';
				nameChampOutput.value =  nameChamp;
				
				document.getElementById("image1").src=nameChamp;
			//} // end displayName
			
			//function FoundSkin() {
				var langue;
				for (var optionregion of document.getElementById('regions').options) {
					if (optionregion.selected) {
					  langue=optionregion.value;
					  //console.log(langue);
					}
				}
				
				var selectionSkin = document.getElementById('numskinInput');
				var nomDeChampion= nameChampInput.value;
				
				var lengthSkins=selectionSkin.length;
				console.log('nombre opt',lengthSkins);
				for (var it = 0; it < lengthSkins; it+=1) {
						//console.log('remove',it,selectionSkin.it);
						//console.log(selectionSkin.length);
						selectionSkin.remove(selectionSkin.it);
				}
				
				$.getJSON('http://ddragon.leagueoflegends.com/cdn/11.7.1/data/'+langue+'/champion/'+nomDeChampion+'.json', function (data) {
					
					//console.log('http://ddragon.leagueoflegends.com/cdn/11.7.1/data/'+langue+'/champion/'+nomDeChampion+'.json');
					//console.log(data.data);
					
					var LesSkinsTEMP = data.data;
					var tempChamp;
					for (var ir in LesSkinsTEMP) {
						//console.log(LesSkinsTEMP[ir]);
						LesSkinsTEMP=LesSkinsTEMP[ir];
						tempChamp=ir;
					}
				
					//var LesSkins = data.data.Alistar.skins;
					var LesSkins = LesSkinsTEMP.skins;
					
					for (var i=0; i < LesSkins.length; i++) {
						//console.log('3:',i,LesSkins[i].name,LesSkins[i].num);
						var option = document.createElement("option");
						option.text = LesSkins[i].name;
						option.value = LesSkins[i].num;
						selectionSkin.add(option);
					}
				});
				
				document.getElementById('showSkin').hidden = false;
				document.getElementById('numskinInput').hidden = false;
				
			}
		
		</script>
	
		<h2> Image pick</h2>
		<p>Entrez le nom</p>
		
		<fieldset>
		<select id="regions" autofocus>
						<option value="fr_FR" selected="selected">French </option>
						<option value="en_US">English </option>
						<option value="es_ES">Spanish </option>
						
					</select>
		<br />
		
		<label>NOM : </label>
	    <input type="text" id = "nameChampInput" placeholder="Ex: Alistar"/>
		
		<label id='showSkin' hidden>Skin : </label>
			<select id="numskinInput" hidden>		
			</select>
		
		<br />
		
	    <input type = "button" value = "SENDING" onclick = "displayImageChamp()"/>
		<br />
		
		<label>Réponse </label>
		<input type = "text" id = "nameChampOutput" />
		<br />
		
		
		<img id= image1 src = http://ddragon.leagueoflegends.com/cdn/img/champion/splash/Lux_17.jpg
		alt="ca ne fonctionne pas encore"
		width="847"
		height="500">
		<br>
		
		</fieldset>	
		
			
	</div>
	
	<div id="navigation">
		<h2> Sommaire </h2>
	<ul>
		<li><a href="./index.html">Accueil</a></li>
		<li><a href="./Joueurs.html">Joueurs</a></li>
		<li><a href="./Clash.html">Clash</a></li>
		<li><a href="./Champions.html">Champions</a></li>
		<li><a href="./Apropos.html">À propos</a></li>
	</ul>
	</div>
</div>
</div>
	
  </body>
</html>